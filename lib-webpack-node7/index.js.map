{"version":3,"sources":["../src/index.js"],"names":["levelNames","WinstonAdapterHandler","winstonTransport","minLevel","handle","record","Promise","resolve","reject","log","level","message","level_name","get","key","metadata","extra","context","err"],"mappings":"AAAA;AACA,OAAOA,UAAP,MAAuB,yBAAvB;;AAMA,eAAe,SAASC,qBAAT,CACbC,gBADa,EAEbC,QAFa,EAGb;AACA,OAAKA,QAAL,GAAgBA,QAAhB;AACA,OAAKC,MAAL,GAAcC,UACZ,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AAC/BN,qBAAiBO,GAAjB,CAAqBJ,OAAOK,KAA5B,EAAmCL,OAAOM,OAA1C,EAAmD;AACjDC,kBAAYZ,WAAWa,GAAX,CAAeR,OAAOK,KAAtB,CADqC;AAEjDI,WAAKT,OAAOS,GAFqC;AAGjDC,gBAAUV,OAAOU,QAHgC;AAIjDC,aAAOX,OAAOW,KAJmC;AAKjDC,eAASZ,OAAOY;AALiC,KAAnD,EAMIC,GAAD,IAAS;AACV,UAAIA,GAAJ,EAAS;AACP,eAAOV,OAAOU,GAAP,CAAP;AACD;;AAEDX;AACD,KAZD;AAaD,GAdD,CADF;AAiBD","file":"index.js","sourcesContent":["/* eslint camelcase:\"off\" */\nimport levelNames from 'nightingale-level-names';\n\ntype WinstonTransportType = {\n  log: Function,\n};\n\nexport default function WinstonAdapterHandler(\n  winstonTransport: WinstonTransportType,\n  minLevel: number,\n) {\n  this.minLevel = minLevel;\n  this.handle = record => (\n    new Promise((resolve, reject) => {\n      winstonTransport.log(record.level, record.message, {\n        level_name: levelNames.get(record.level),\n        key: record.key,\n        metadata: record.metadata,\n        extra: record.extra,\n        context: record.context,\n      }, (err) => {\n        if (err) {\n          return reject(err);\n        }\n\n        resolve();\n      });\n    })\n  );\n}\n"]}