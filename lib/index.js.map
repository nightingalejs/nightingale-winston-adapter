{"version":3,"sources":["../src/index.js"],"names":[],"mappings":";;;;;;;AAAA;;;;;;;;;;;;;IAKqB,qB,GAAN,MAAM,qBAAN,sCAAoD;;;;;AAC/D,gBAAY,gBAAZ,EAA8B,QAA9B,EAAwC;AACpC,cAAM,QAAN;AACA,aAAK,gBAAL,GAAwB,gBAAxB;AACH;;;;MAED,OAAO,MAAP,EAAe;AACX,eAAO,IAAI,OAAJ,CAAY,CAAC,OAAD,EAAU,MAAV,KAAqB;AACpC,iBAAK,gBAAL,CAAsB,GAAtB,CAA0B,OAAO,KAAjC,EAAwC,OAAO,OAA/C,EAAwD;AACpD,qBAAK,OAAO,GADwC;AAEpD,0BAAU,OAAO,QAFmC;AAGpD,uBAAO,OAAO;AAHsC,aAAxD,EAII,GAAD,IAAS;AACR,oBAAI,GAAJ,EAAS;AACL,2BAAO,OAAO,GAAP,CAAP;AACH;;AAED;AACH,aAVD;AAWH,SAZM,CAAP;AAaH;AApB8D,C;kBAA9C,qB","file":"index.js","sourcesContent":["import AbstractHandler from 'nightingale-handler';\n\n/**\n * @param {int} minLevel\n */\nexport default class WinstonAdapterHandler extends AbstractHandler {\n    constructor(winstonTransport, minLevel) {\n        super(minLevel);\n        this.winstonTransport = winstonTransport;\n    }\n\n    handle(record) {\n        return new Promise((resolve, reject) => {\n            this.winstonTransport.log(record.level, record.message, {\n                key: record.key,\n                metadata: record.metadata,\n                extra: record.extra,\n            }, (err) => {\n                if (err) {\n                    return reject(err);\n                }\n\n                resolve();\n            });\n        });\n    }\n}\n"]}