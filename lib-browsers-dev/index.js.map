{"version":3,"sources":["../src/index.js"],"names":["WinstonAdapterHandler","WinstonTransportType","log","winstonTransport","minLevel","handle","Promise","resolve","reject","record","level","message","level_name","get","key","metadata","extra","context","err"],"mappings":";;;;;kBAOwBA,qB;;;;;;AANxB;;;;;;IAEKC,oB;AACHC,K;4BAJF;;;AAOe,SAASF,qBAAT,CACbG,gBADa,EAEbC,QAFa,EAGb;AAAA,UAFAD,gBAEA,EAFkBF,oBAElB;;AAAA,UADAG,QACA;;AACA,OAAKA,QAAL,GAAgBA,QAAhB;AACA,OAAKC,MAAL,GAAc;AAAA,WACZ,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AAC/BL,uBAAiBD,GAAjB,CAAqBO,OAAOC,KAA5B,EAAmCD,OAAOE,OAA1C,EAAmD;AACjDC,oBAAY,gCAAWC,GAAX,CAAeJ,OAAOC,KAAtB,CADqC;AAEjDI,aAAKL,OAAOK,GAFqC;AAGjDC,kBAAUN,OAAOM,QAHgC;AAIjDC,eAAOP,OAAOO,KAJmC;AAKjDC,iBAASR,OAAOQ;AALiC,OAAnD,EAMG,UAACC,GAAD,EAAS;AACV,YAAIA,GAAJ,EAAS;AACP,iBAAOV,OAAOU,GAAP,CAAP;AACD;;AAEDX;AACD,OAZD;AAaD,KAdD,CADY;AAAA,GAAd;AAiBD","file":"index.js","sourcesContent":["/* eslint camelcase:\"off\" */\nimport levelNames from 'nightingale-level-names';\n\ntype WinstonTransportType = {\n  log: Function,\n};\n\nexport default function WinstonAdapterHandler(\n  winstonTransport: WinstonTransportType,\n  minLevel: number,\n) {\n  this.minLevel = minLevel;\n  this.handle = record => (\n    new Promise((resolve, reject) => {\n      winstonTransport.log(record.level, record.message, {\n        level_name: levelNames.get(record.level),\n        key: record.key,\n        metadata: record.metadata,\n        extra: record.extra,\n        context: record.context,\n      }, (err) => {\n        if (err) {\n          return reject(err);\n        }\n\n        resolve();\n      });\n    })\n  );\n}\n"]}